<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PLO — Project Lifecycle Orchestrator</title>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@5.1.0/dist/reveal.css" />
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@5.1.0/dist/theme/black.css" />
  <style>
    :root { --accent: #00b4d8; --warn: #f59e0b; --crit: #ef4444; --ok: #22c55e; }
    .reveal { font-family: "Segoe UI", system-ui, -apple-system, sans-serif; }
    .reveal h1, .reveal h2, .reveal h3 { text-transform: none; }
    .reveal h1 { font-size: 2.2em; color: var(--accent); }
    .reveal h2 { font-size: 1.6em; color: var(--accent); }
    .reveal h3 { font-size: 1.2em; color: #94a3b8; }
    .reveal .accent { color: var(--accent); }
    .reveal .warn { color: var(--warn); }
    .reveal .crit { color: var(--crit); }
    .reveal .ok { color: var(--ok); }
    .reveal pre { font-size: 0.48em; box-shadow: none; background: #1e293b; border-radius: 8px; padding: 18px; }
    .reveal code { font-family: "JetBrains Mono", "Fira Code", monospace; }
    .reveal ul { text-align: left; font-size: 0.85em; }
    .reveal li { margin-bottom: 0.35em; }
    .reveal .slide-number { font-size: 14px; color: var(--accent); }
    .reveal .kpi-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
    .reveal .kpi-box { background: #1e293b; border-radius: 12px; padding: 24px; text-align: center; border-left: 4px solid var(--accent); }
    .reveal .kpi-box .number { font-size: 2.2em; font-weight: 700; color: var(--accent); }
    .reveal .kpi-box .label { font-size: 0.7em; color: #94a3b8; margin-top: 4px; }
    .reveal .pill { display: inline-block; padding: 4px 14px; border-radius: 20px; font-size: 0.65em; font-weight: 600; margin: 2px; }
    .reveal .pill-cyan { background: rgba(0,180,216,0.2); color: var(--accent); border: 1px solid var(--accent); }
    .reveal .pill-green { background: rgba(34,197,94,0.15); color: var(--ok); border: 1px solid var(--ok); }
    .reveal .pill-red { background: rgba(239,68,68,0.15); color: var(--crit); border: 1px solid var(--crit); }
    .reveal .pill-amber { background: rgba(245,158,11,0.15); color: var(--warn); border: 1px solid var(--warn); }
    .reveal .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; text-align: left; font-size: 0.8em; }
    .reveal .box { background: #1e293b; border-radius: 10px; padding: 18px; }
    .reveal .box h3 { margin-top: 0; font-size: 1em; }
    .reveal .timeline { display: flex; align-items: center; gap: 0; margin: 30px 0; font-size: 0.6em; }
    .reveal .timeline .step { text-align: center; flex: 1; position: relative; }
    .reveal .timeline .step .dot { width: 20px; height: 20px; border-radius: 50%; margin: 0 auto 6px; }
    .reveal .timeline .step .line { position: absolute; top: 10px; left: 50%; width: 100%; height: 2px; background: #475569; z-index: -1; }
    .reveal .timeline .step:last-child .line { display: none; }
    .reveal .source-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 20px; font-size: 0.7em; }
    .reveal .source-card { background: #1e293b; border-radius: 8px; padding: 14px 10px; text-align: center; border-top: 3px solid var(--accent); }
    .reveal .source-card.optional { border-top-color: #475569; opacity: 0.8; }
    .reveal .source-card .src-name { font-weight: 700; font-size: 1.1em; margin-bottom: 4px; }
    .reveal .source-card .src-desc { color: #94a3b8; font-size: 0.85em; }
    .reveal table { font-size: 0.65em; margin: 0 auto; }
    .reveal table th { background: rgba(0,180,216,0.15); color: var(--accent); }
    .reveal table td, .reveal table th { padding: 6px 14px; border: 1px solid #334155; }
    .reveal .us-flow { display: flex; align-items: center; gap: 8px; font-size: 0.7em; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
    .reveal .us-flow .us-step { background: #1e293b; border-radius: 8px; padding: 10px 16px; }
    .reveal .us-flow .arrow { color: var(--accent); font-size: 1.3em; }
    .reveal .footer-note { position: absolute; bottom: 20px; left: 0; right: 0; text-align: center; font-size: 0.45em; color: #64748b; }
    .reveal .excom-tag { display: inline-block; background: rgba(0,180,216,0.15); color: var(--accent); border: 1px solid var(--accent); border-radius: 4px; padding: 3px 12px; font-size: 0.45em; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px; }
    .reveal .burn-row { display: flex; align-items: stretch; gap: 16px; margin-top: 20px; }
    .reveal .burn-card { flex: 1; background: #1e293b; border-radius: 10px; padding: 20px 16px; text-align: center; border-top: 4px solid var(--crit); }
    .reveal .burn-card .burn-icon { font-size: 2em; margin-bottom: 8px; }
    .reveal .burn-card .burn-stat { font-size: 1.8em; font-weight: 800; color: var(--crit); }
    .reveal .burn-card .burn-label { font-size: 0.7em; color: #94a3b8; margin-top: 4px; }
    .reveal .strat-axis { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 18px; margin-top: 24px; }
    .reveal .strat-card { background: #1e293b; border-radius: 10px; padding: 20px; text-align: left; position: relative; overflow: hidden; }
    .reveal .strat-card::before { content: ""; position: absolute; top: 0; left: 0; width: 4px; height: 100%; }
    .reveal .strat-card.s1::before { background: var(--crit); }
    .reveal .strat-card.s2::before { background: var(--warn); }
    .reveal .strat-card.s3::before { background: var(--ok); }
    .reveal .strat-card h3 { margin: 0 0 8px; font-size: 0.9em; }
    .reveal .strat-card p { font-size: 0.7em; color: #cbd5e1; margin: 0; }
    .reveal .roi-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 24px; }
    .reveal .roi-card { background: #1e293b; border-radius: 10px; padding: 20px; text-align: center; }
    .reveal .roi-card .roi-before { font-size: 1.4em; font-weight: 700; color: var(--crit); text-decoration: line-through; opacity: 0.6; }
    .reveal .roi-card .roi-arrow { font-size: 1.2em; color: #475569; margin: 4px 0; }
    .reveal .roi-card .roi-after { font-size: 1.6em; font-weight: 800; color: var(--ok); }
    .reveal .roi-card .roi-label { font-size: 0.65em; color: #94a3b8; margin-top: 6px; }
    .reveal .separator-line { width: 120px; height: 2px; background: var(--accent); margin: 30px auto; opacity: 0.4; }
  </style>
</head>
<body>
<div class="reveal">
<div class="slides">

<!-- ============================================================ -->
<!-- EXCOM SLIDE 1/5 — Titre executif -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">Synthese Comite Executif &mdash; 6 slides</div>
  <h1>PLO</h1>
  <h3>Project Lifecycle Orchestrator</h3>
  <div class="separator-line"></div>
  <p style="font-size: 0.85em; color: #cbd5e1; max-width: 700px; margin: 0 auto; line-height: 1.6;">
    Reprendre le controle sur le cycle de vie<br/>
    des projets d'amenagement client
  </p>
  <p style="font-size: 0.65em; color: #64748b; margin-top: 30px;">
    Cuisine &bull; Salle de bain &bull; Renovation energetique
  </p>
</section>

<!-- ============================================================ -->
<!-- EXCOM SLIDE 2/5 — Burning Platform -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">Burning Platform</div>
  <h2>L'experience client se degrade</h2>
  <div class="burn-row">
    <div class="burn-card">
      <div class="burn-stat">5+</div>
      <div class="burn-label">Systemes silotes<br/><small>ERP, OMS, TMS, WFM, CRM&hellip;<br/>Aucune vue unifiee</small></div>
    </div>
    <div class="burn-card">
      <div class="burn-stat">J+3</div>
      <div class="burn-label">Delai moyen de detection<br/><small>d'une anomalie logistique<br/>par un operateur</small></div>
    </div>
    <div class="burn-card">
      <div class="burn-stat">0%</div>
      <div class="burn-label">Visibilite client<br/><small>sur l'avancement de son projet<br/>entre la commande et la pose</small></div>
    </div>
    <div class="burn-card" style="border-top-color: var(--warn);">
      <div class="burn-stat" style="color: var(--warn);">x3</div>
      <div class="burn-label">Appels SAV<br/><small>pour demander &laquo; ou en est<br/>mon projet ? &raquo;</small></div>
    </div>
  </div>
  <div class="fragment" style="margin-top: 24px;">
    <div class="box" style="border-left: 4px solid var(--crit); font-size: 0.75em; text-align: left; max-width: 800px; margin: 0 auto;">
      <strong class="crit">Cout de l'inaction :</strong> chaque anomalie non detectee a temps genere en moyenne <strong>2 a 5 jours de retard supplementaire</strong>, un report d'installation, et un contact SAV evitable. Sur un panier moyen de 15 000 EUR, l'impact NPS et le cout de replanification sont directs.
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- EXCOM SLIDE 3/5 — Enjeu strategique -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">Enjeu strategique</div>
  <h2>Trois axes de creation de valeur</h2>
  <div class="strat-axis">
    <div class="strat-card s1">
      <h3 class="crit">Excellence operationnelle</h3>
      <p>Passer d'une gestion <strong>reactive</strong> (on decouvre le probleme quand le client appelle) a une gestion <strong>proactive</strong> (on detecte et on agit avant que le client ne le sache).</p>
      <p style="margin-top: 10px; color: var(--accent); font-size: 0.85em;"><strong>Levier :</strong> 22 regles d'anomalies temps reel + escalade automatique</p>
    </div>
    <div class="strat-card s2">
      <h3 class="warn">Satisfaction &amp; retention client</h3>
      <p>Offrir une <strong>transparence totale</strong> au client sur l'avancement de son projet. Reduire les appels SAV. Transformer un parcours opaque en experience de confiance.</p>
      <p style="margin-top: 10px; color: var(--accent); font-size: 0.85em;"><strong>Levier :</strong> Portail de suivi client public, notifications proactives</p>
    </div>
    <div class="strat-card s3">
      <h3 class="ok">Scalabilite du modele</h3>
      <p>Un hub d'orchestration <strong>multi-source et multi-metier</strong> (cuisine, SDB, renovation energetique) qui se deploie sans changer les systemes existants &mdash; integration par webhook.</p>
      <p style="margin-top: 10px; color: var(--accent); font-size: 0.85em;"><strong>Levier :</strong> 7 adapteurs, architecture evenementielle decouplée</p>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- EXCOM SLIDE 4/5 — La reponse PLO (sans jargon technique) -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">La reponse</div>
  <h2>PLO : une tour de controle projet</h2>
  <p style="font-size: 0.75em; color: #94a3b8;">Agregation, detection, action &mdash; en temps reel</p>
  <div style="margin-top: 20px;">
    <div style="display: flex; gap: 0; align-items: stretch; max-width: 900px; margin: 0 auto;">
      <div style="flex: 1; background: #1e293b; border-radius: 10px 0 0 10px; padding: 20px; text-align: center; border-bottom: 4px solid var(--accent);">
        <div style="font-size: 1.4em; margin-bottom: 6px;">1. Agreger</div>
        <div style="font-size: 0.7em; color: #94a3b8;">Tous les evenements de la chaine logistique arrivent dans un point unique, en temps reel</div>
      </div>
      <div style="flex: 1; background: #1e293b; padding: 20px; text-align: center; border-bottom: 4px solid var(--warn);">
        <div style="font-size: 1.4em; margin-bottom: 6px;">2. Detecter</div>
        <div style="font-size: 0.7em; color: #94a3b8;">22 regles metier identifient automatiquement les retards, ruptures, et blocages</div>
      </div>
      <div style="flex: 1; background: #1e293b; border-radius: 0 10px 10px 0; padding: 20px; text-align: center; border-bottom: 4px solid var(--ok);">
        <div style="font-size: 1.4em; margin-bottom: 6px;">3. Agir</div>
        <div style="font-size: 0.7em; color: #94a3b8;">Alerte immediate, escalade automatique, acquittement tracable, analyse IA du risque</div>
      </div>
    </div>
  </div>
  <div class="fragment two-col" style="margin-top: 24px; max-width: 900px; margin-left: auto; margin-right: auto;">
    <div class="box" style="border-left: 4px solid var(--accent);">
      <h3 class="accent" style="font-size: 0.85em;">Pour l'operateur</h3>
      <ul style="font-size: 0.75em;">
        <li>Dashboard temps reel avec severite</li>
        <li>Acquittement individuel ou en masse</li>
        <li>Export CSV, journal d'activite</li>
        <li>Score de risque IA par projet</li>
      </ul>
    </div>
    <div class="box" style="border-left: 4px solid var(--ok);">
      <h3 class="ok" style="font-size: 0.85em;">Pour le client</h3>
      <ul style="font-size: 0.75em;">
        <li>Portail de suivi avec URL unique</li>
        <li>Jalons clairs : commande &rarr; pose</li>
        <li>Zero authentification requise</li>
        <li>Donnees internes masquees</li>
      </ul>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- EXCOM SLIDE 5/6 — Ressources & Vibe Coding -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">Ressources consommees</div>
  <h2>3 jours, 1 developpeur + Claude Code</h2>
  <div class="kpi-grid" style="grid-template-columns: 1fr 1fr 1fr; margin-top: 24px;">
    <div class="kpi-box">
      <div class="number" style="font-size: 1.8em;">~20 000</div>
      <div class="label">Lignes de code<br/><small>9 400 production + 9 800 tests + schema</small></div>
    </div>
    <div class="kpi-box">
      <div class="number" style="font-size: 1.8em;">98</div>
      <div class="label">Fichiers TypeScript<br/><small>+ Prisma schema, migrations, config</small></div>
    </div>
    <div class="kpi-box">
      <div class="number" style="font-size: 1.8em;">21</div>
      <div class="label">Sprints livres<br/><small>28 commits en 3 jours</small></div>
    </div>
  </div>
  <div class="fragment two-col" style="margin-top: 24px; max-width: 900px; margin-left: auto; margin-right: auto;">
    <div class="box" style="border-left: 4px solid var(--crit); text-align: center;">
      <h3 class="crit" style="font-size: 0.9em;">Estimation classique</h3>
      <div style="font-size: 2.2em; font-weight: 800; color: var(--crit); margin: 10px 0;">60&ndash;90 j/h</div>
      <div style="font-size: 0.7em; color: #94a3b8;">
        Backend + API : 25&ndash;35 j/h<br/>
        Moteur anomalies : 10&ndash;15 j/h<br/>
        Tests (97% couv.) : 15&ndash;20 j/h<br/>
        Integrations (7 sources) : 10&ndash;15 j/h<br/>
        Infra, CI, seed, docs : 5&ndash;10 j/h
      </div>
    </div>
    <div class="box" style="border-left: 4px solid var(--ok); text-align: center;">
      <h3 class="ok" style="font-size: 0.9em;">Avec Claude Code (vibe coding)</h3>
      <div style="font-size: 2.2em; font-weight: 800; color: var(--ok); margin: 10px 0;">~3 j/h</div>
      <div style="font-size: 0.7em; color: #94a3b8;">
        1 developpeur senior pilotant Claude<br/>
        24&ndash;27 fev 2026 (3 jours calendaires)<br/>
        476 tests, 97% couverture lignes<br/>
        12 tests E2E full-stack<br/>
        Production-ready, documente
      </div>
    </div>
  </div>
  <div class="fragment" style="margin-top: 18px;">
    <div class="box" style="border-left: 4px solid var(--accent); font-size: 0.7em; max-width: 750px; margin: 0 auto; text-align: left;">
      <strong class="accent">Facteur d'acceleration : x20 a x30</strong> &mdash; Le developpeur se concentre sur l'architecture, la validation metier et le pilotage. Claude Code genere, teste, et itere sur le code en continu.
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- EXCOM SLIDE 6/6 — Impact attendu & next steps -->
<!-- ============================================================ -->
<section>
  <div class="excom-tag">Impact &amp; prochaines etapes</div>
  <h2>Resultats attendus</h2>
  <div class="roi-grid">
    <div class="roi-card">
      <div class="roi-before">J+3</div>
      <div class="roi-arrow">&darr;</div>
      <div class="roi-after">&lt; 1h</div>
      <div class="roi-label">Temps de detection d'anomalie<br/><small>De la decouverte manuelle a l'alerte automatique</small></div>
    </div>
    <div class="roi-card">
      <div class="roi-before">0%</div>
      <div class="roi-arrow">&darr;</div>
      <div class="roi-after">100%</div>
      <div class="roi-label">Visibilite client sur son projet<br/><small>Portail public avec jalons temps reel</small></div>
    </div>
    <div class="roi-card">
      <div class="roi-before" style="text-decoration: none; opacity: 1;">x3 appels</div>
      <div class="roi-arrow">&darr;</div>
      <div class="roi-after" style="font-size: 1.2em;">-60% appels SAV</div>
      <div class="roi-label">Reduction charge SAV<br/><small>Le client se sert du portail au lieu d'appeler</small></div>
    </div>
    <div class="roi-card">
      <div class="roi-before">Manuelle</div>
      <div class="roi-arrow">&darr;</div>
      <div class="roi-after" style="font-size: 1.2em;">Auto + IA</div>
      <div class="roi-label">Escalade &amp; analyse de risque<br/><small>Escalade 4h + score de risque predictif Claude</small></div>
    </div>
  </div>
  <div class="fragment" style="margin-top: 28px;">
    <div class="box" style="border-left: 4px solid var(--accent); max-width: 800px; margin: 0 auto; text-align: left; font-size: 0.75em;">
      <h3 class="accent" style="font-size: 1em; margin-bottom: 8px;">Prochaines etapes</h3>
      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px;">
        <div><span class="pill pill-cyan">Court terme</span><br/>Pilote sur 1 magasin &mdash; 50 projets<br/>Mesure MTTA &amp; NPS baseline</div>
        <div><span class="pill pill-amber">Moyen terme</span><br/>Deploiement multi-sites<br/>Integration CRM production</div>
        <div><span class="pill pill-green">Long terme</span><br/>Analyse predictive IA generalisee<br/>Self-service client augmente</div>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SEPARATEUR — Fin EXCOM / Debut detail technique -->
<!-- ============================================================ -->
<section data-background-color="#0f172a">
  <div class="separator-line" style="width: 80px;"></div>
  <h2 style="font-size: 1.2em; color: #475569;">Slides detaillees</h2>
  <p style="font-size: 0.7em; color: #334155;">Architecture, integrations, user stories</p>
  <div class="separator-line" style="width: 80px;"></div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 7 — Titre (detail) -->
<!-- ============================================================ -->
<section>
  <h1>PLO</h1>
  <h3>Project Lifecycle Orchestrator</h3>
  <p style="margin-top: 30px; font-size: 0.75em; color: #94a3b8;">
    Orchestration et supervision en temps reel<br/>
    des projets d'amenagement client
  </p>
  <div style="margin-top: 40px;">
    <span class="pill pill-cyan">Fastify</span>
    <span class="pill pill-cyan">TypeScript</span>
    <span class="pill pill-cyan">PostgreSQL</span>
    <span class="pill pill-cyan">Redis</span>
    <span class="pill pill-cyan">BullMQ</span>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 2 — Le probleme -->
<!-- ============================================================ -->
<section>
  <h2>Le probleme</h2>
  <div class="two-col" style="margin-top: 30px;">
    <div>
      <p>Un projet d'amenagement (cuisine, salle de bain, renovation energetique) implique <strong class="accent">5+ systemes</strong> :</p>
      <ul>
        <li>ERP &mdash; commandes, stocks</li>
        <li>OMS &mdash; preparation, expeditions</li>
        <li>TMS &mdash; transport dernier km</li>
        <li>WFM &mdash; planification techniciens</li>
        <li>CRM &mdash; relation client</li>
      </ul>
    </div>
    <div>
      <div class="box" style="border-left: 4px solid var(--crit);">
        <h3 class="crit">Consequences</h3>
        <ul style="font-size: 0.9em;">
          <li class="fragment">Visibilite fragmentee entre les equipes</li>
          <li class="fragment">Anomalies detectees <strong>trop tard</strong></li>
          <li class="fragment">Aucune escalade automatique</li>
          <li class="fragment">Client sans visibilite sur l'avancement</li>
          <li class="fragment">Satisfaction client en baisse</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 3 — La solution -->
<!-- ============================================================ -->
<section>
  <h2>La solution PLO</h2>
  <p style="font-size: 0.8em; color: #94a3b8;">Hub centralise d'orchestration du cycle de vie projet</p>
  <div class="kpi-grid" style="grid-template-columns: 1fr 1fr 1fr 1fr;">
    <div class="kpi-box fragment">
      <div class="number">7</div>
      <div class="label">Sources d'evenements integrees</div>
    </div>
    <div class="kpi-box fragment">
      <div class="number">22</div>
      <div class="label">Regles d'anomalies configurables</div>
    </div>
    <div class="kpi-box fragment">
      <div class="number" style="font-size: 1.6em;">Temps reel</div>
      <div class="label">Detection &amp; alertes SSE</div>
    </div>
    <div class="kpi-box fragment">
      <div class="number" style="font-size: 1.6em;">Portail</div>
      <div class="label">Suivi client public</div>
    </div>
  </div>
  <div class="fragment" style="margin-top: 30px;">
    <pre style="text-align: center; font-size: 0.55em; background: transparent; padding: 0;">
ERP / OMS / TMS / WFM / CRM / E-commerce / Manuel
              |
        [ Webhook Ingest ]
              |
   [ PLO &mdash; Detection + Alertes ]
         /        \
  [ Operateur ]  [ Client ]</pre>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 4 — Benefices cles -->
<!-- ============================================================ -->
<section>
  <h2>Benefices cles</h2>
  <div class="kpi-grid" style="margin-top: 30px;">
    <div class="box fragment">
      <h3 class="accent">Detection proactive</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Anomalies detectees des l'ingestion de l'evenement &mdash; pas d'attente du rapport quotidien</p>
    </div>
    <div class="box fragment">
      <h3 class="warn">Escalade automatique</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Si non acquittee sous 4h : escalade manager + ticket CRM automatique</p>
    </div>
    <div class="box fragment">
      <h3 class="ok">Tracabilite complete</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Journal d'activite operateur, horodatage de chaque action, audit trail complet</p>
    </div>
    <div class="box fragment">
      <h3 style="color: #a78bfa;">Portail client</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Suivi en temps reel sans appeler le service client &mdash; jalons visibles, donnees internes masquees</p>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 5 — Architecture vue d'ensemble -->
<!-- ============================================================ -->
<section>
  <h2>Architecture globale</h2>
  <pre style="font-size: 0.5em; line-height: 1.5;">
 +----------+  +----------+  +----------+  +----------+
 |   ERP    |  |   OMS    |  |   TMS    |  |  WFM /   |
 | (stocks, |  | (expe,   |  | (dernier |  |  CRM /   |
 | picking) |  | shipment)|  |   km)    |  | E-comm)  |
 +----+-----+  +----+-----+  +----+-----+  +----+-----+
      |             |             |             |
      +------+------+------+------+------+------+
             |                    |
      POST /api/events/ingest (Bearer token)
             |
   +---------v---------+     +----------------+
   |   Adapter Layer    |     |   PostgreSQL   |
   | Validation + Norm. +-----> (Prisma ORM)   |
   +---------+---------+     +-------+--------+
             |                       |
   +---------v---------+     +-------v--------+
   |  BullMQ (Redis)   |     |  Anomaly Rules |
   |  Event Queue      +-----> 22 regles      |
   +---------+---------+     | RT + Scheduled  |
             |               +-------+--------+
   +---------v---------+             |
   |     Worker        |    +--------v--------+
   | Steps + Entities  |    |  Notifications  |
   +-------------------+    | Email/SSE/CRM   |
                            +-----------------+</pre>
</section>

<!-- ============================================================ -->
<!-- SLIDE 6 — Stack technique -->
<!-- ============================================================ -->
<section>
  <h2>Stack technique</h2>
  <div class="two-col" style="margin-top: 20px;">
    <div>
      <div class="box">
        <h3 class="accent">Backend</h3>
        <ul style="font-size: 0.85em;">
          <li><strong>Fastify 5</strong> &mdash; framework HTTP performant</li>
          <li><strong>TypeScript</strong> strict &mdash; surete de type</li>
          <li><strong>Zod</strong> &mdash; validation runtime des payloads</li>
          <li><strong>Prisma 5</strong> &mdash; ORM type-safe</li>
        </ul>
      </div>
      <div class="box" style="margin-top: 16px;">
        <h3 class="accent">Securite</h3>
        <ul style="font-size: 0.85em;">
          <li>JWT httpOnly cookie (operateurs)</li>
          <li>Bearer token par source (webhook)</li>
          <li>bcrypt password hashing</li>
          <li>Roles : admin, coordinator, viewer</li>
        </ul>
      </div>
    </div>
    <div>
      <div class="box">
        <h3 class="accent">Infrastructure</h3>
        <ul style="font-size: 0.85em;">
          <li><strong>PostgreSQL 15</strong> &mdash; persistence</li>
          <li><strong>Redis 7</strong> &mdash; queue + cache</li>
          <li><strong>BullMQ</strong> &mdash; traitement asynchrone</li>
          <li><strong>Docker Compose</strong> &mdash; infra locale</li>
        </ul>
      </div>
      <div class="box" style="margin-top: 16px;">
        <h3 class="accent">Qualite</h3>
        <ul style="font-size: 0.85em;">
          <li><strong>Vitest</strong> &mdash; 476 tests unitaires</li>
          <li><strong>97%</strong> couverture lignes</li>
          <li>12 tests E2E full-stack</li>
          <li>node-cron pour evaluations planifiees</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 7 — Pipeline evenementiel -->
<!-- ============================================================ -->
<section>
  <h2>Pipeline evenementiel</h2>
  <p style="font-size: 0.7em; color: #94a3b8;">Chaque evenement traverse 7 etapes avant notification</p>
  <div style="margin-top: 20px;">
    <table>
      <tr>
        <th>#</th><th>Etape</th><th>Detail</th>
      </tr>
      <tr><td>1</td><td class="accent">Validation</td><td>Schema Zod specifique par adapteur source</td></tr>
      <tr><td>2</td><td class="accent">Normalisation</td><td>Payload source &rarr; <code>NormalizedEvent</code> commun</td></tr>
      <tr><td>3</td><td class="accent">Resolution projet</td><td>Lookup cross-systeme via <code>ProjectExternalRef</code></td></tr>
      <tr><td>4</td><td class="accent">Deduplication</td><td>Contrainte unique <code>(source, source_ref)</code></td></tr>
      <tr><td>5</td><td class="accent">Persistence</td><td>Event stocke en base + severite derivee</td></tr>
      <tr><td>6</td><td class="accent">Enqueue</td><td>Job BullMQ pour traitement asynchrone</td></tr>
      <tr><td>7</td><td class="accent">Worker</td><td>Upsert Step + Update entites + Evaluation regles</td></tr>
    </table>
  </div>
  <div class="fragment" style="margin-top: 16px;">
    <div class="box" style="display: inline-block; font-size: 0.65em; border-left: 4px solid var(--warn);">
      <strong class="warn">Dead Letter Queue</strong> &mdash; evenements dont le projet n'est pas resolu &rarr; DLQ pour intervention manuelle
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 8 — Moteur d'anomalies -->
<!-- ============================================================ -->
<section>
  <h2>Moteur d'anomalies</h2>
  <p style="font-size: 0.75em; color: #94a3b8;">22 regles configurables &mdash; temps reel + planifiees</p>
  <div class="two-col" style="margin-top: 20px;">
    <div class="box" style="border-left: 4px solid var(--crit);">
      <h3 class="crit">Temps reel</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Evaluees a chaque ingestion d'evenement</p>
      <ul style="font-size: 0.8em;">
        <li><strong>ANO-01</strong> Shortage &lt; 72h avant livraison</li>
        <li><strong>ANO-02</strong> Retard shipment vs. ETA</li>
        <li><strong>ANO-04</strong> Livraison partielle</li>
        <li><strong>ANO-06</strong> Technicien indisponible</li>
      </ul>
    </div>
    <div class="box" style="border-left: 4px solid var(--warn);">
      <h3 class="warn">Planifiees (Cron)</h3>
      <p style="font-size: 0.75em; color: #cbd5e1;">Evaluees toutes les heures ou chaque matin</p>
      <ul style="font-size: 0.8em;">
        <li><strong>ANO-07</strong> J-N : forecast retard livraison</li>
        <li><strong>ANO-14</strong> Consolidation incomplete</li>
        <li><strong>ANO-17</strong> Consolidation &gt; delai prevu</li>
        <li><strong>ANO-22</strong> Install. planifiee sans livraison</li>
      </ul>
    </div>
  </div>
  <div class="fragment" style="margin-top: 20px;">
    <div class="box" style="border-left: 4px solid var(--accent); font-size: 0.7em;">
      <strong class="accent">Escalade automatique</strong> &mdash; toutes les 30 min, verification des anomalies non acquittees. Apres 4h : notification escaladee + ticket CRM.
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 9 — Modele de donnees -->
<!-- ============================================================ -->
<section>
  <h2>Modele de donnees</h2>
  <pre style="font-size: 0.48em; line-height: 1.6;">
                        +------------------+
                        |     Project      |
                        | type, status,    |
                        | customer_id,     |
                        | tracking_token   |
                        +--------+---------+
                  _______________|________________
                 |        |          |            |
          +------v--+ +---v-----+ +-v----------+ +v-----------+
          | Order(s) | |  Event  | |    Step    | |ProjectNote |
          | erp_ref, | | source, | | step_type, | | author,    |
          | status   | | type,   | | status,    | | content    |
          +----+-----+ | payload | | XOR parent | +------------+
               |        +---------+ +-----------+
        +------v------+
        | OrderLine(s) |
        | sku, qty,    |
        | stock_status |
        +--------------+
               |
        +------v------+     +---------------+     +----------------+
        | Shipment(s)  |     | Consolidation |     | LastMileDeliv. |
        | carrier, leg,+-----> station,      +----->  carrier,      |
        | status, ETA  |     | orders_arrived|     |  is_partial,   |
        +--------------+     +---------------+     |  pod_url       |
                                                   +-------+--------+
                                                           |
                                                   +-------v--------+
                                                   | Installation   |
                                                   | technician,    |
                                                   | report, status |
                                                   +----------------+

  Transversal : AnomalyRule (22) &rarr; Notification &rarr; ActivityLog</pre>
</section>

<!-- ============================================================ -->
<!-- SLIDE 10 — 7 sources d'evenements -->
<!-- ============================================================ -->
<section>
  <h2>7 sources d'evenements</h2>
  <p style="font-size: 0.7em; color: #94a3b8;">Chaque source dispose d'un adapteur type avec validation Zod</p>
  <div class="source-grid">
    <div class="source-card">
      <div class="src-name">ERP</div>
      <div class="src-desc">Commandes, stocks, picking, confirmation</div>
    </div>
    <div class="source-card">
      <div class="src-name">OMS</div>
      <div class="src-desc">Expeditions, suivi shipment, consolidation</div>
    </div>
    <div class="source-card">
      <div class="src-name">TMS</div>
      <div class="src-desc">Transport dernier km, POD, livraison</div>
    </div>
    <div class="source-card">
      <div class="src-name">Manuel</div>
      <div class="src-desc">Saisie operateur pour etapes non integrees</div>
    </div>
    <div class="source-card optional">
      <div class="src-name">WFM</div>
      <div class="src-desc">Planification techniciens, installation</div>
    </div>
    <div class="source-card optional">
      <div class="src-name">CRM</div>
      <div class="src-desc">Donnees client, references croisees</div>
    </div>
    <div class="source-card optional">
      <div class="src-name">E-commerce</div>
      <div class="src-desc">Commandes web, panier, paiement</div>
    </div>
    <div class="source-card optional" style="border-top-color: transparent; background: transparent;">
      <div class="src-desc" style="color: #64748b; padding-top: 12px;">
        <span class="pill pill-cyan">Requis</span>
        <span class="pill" style="border: 1px solid #475569; color: #94a3b8;">Optionnel</span>
      </div>
    </div>
  </div>
  <p class="fragment" style="font-size: 0.65em; color: #94a3b8; margin-top: 16px;">
    Authentification : <strong>Bearer token</strong> par source &mdash; cle API dediee configuree dans l'environnement
  </p>
</section>

<!-- ============================================================ -->
<!-- SLIDE 11 — Notifications multi-canal -->
<!-- ============================================================ -->
<section>
  <h2>Notifications multi-canal</h2>
  <div class="two-col" style="margin-top: 20px;">
    <div>
      <div class="box" style="margin-bottom: 14px;">
        <h3 class="accent">Email (SMTP)</h3>
        <p style="font-size: 0.75em; color: #cbd5e1;">Templates HTML par regle (ANO-01, ANO-02, ANO-06...). Destinataires par role : coordinateur, acheteur, entrepot, manager.</p>
      </div>
      <div class="box" style="margin-bottom: 14px;">
        <h3 class="accent">SSE temps reel</h3>
        <p style="font-size: 0.75em; color: #cbd5e1;">Server-Sent Events vers le dashboard operateur. Broadcast instantane a chaque anomalie detectee. Keep-alive 20s.</p>
      </div>
    </div>
    <div>
      <div class="box" style="margin-bottom: 14px;">
        <h3 class="accent">Ticket CRM</h3>
        <p style="font-size: 0.75em; color: #cbd5e1;">Creation automatique de ticket lors de l'escalade. Reference CRM tracee sur la notification.</p>
      </div>
      <div class="box" style="margin-bottom: 14px;">
        <h3 class="accent">Portail client</h3>
        <p style="font-size: 0.75em; color: #cbd5e1;">URL publique avec token unique par projet. Jalons visibles, donnees internes masquees. Zero authentification requise.</p>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 12 — Analyse de risque IA -->
<!-- ============================================================ -->
<section>
  <h2>Analyse de risque IA</h2>
  <p style="font-size: 0.75em; color: #94a3b8;">Evaluation predictive des risques par projet via Claude API</p>
  <div style="margin-top: 20px;">
    <div class="box" style="border-left: 4px solid #a78bfa; text-align: left;">
      <h3 style="color: #a78bfa; margin-bottom: 10px;">GET /api/projects/:id/risk-analysis</h3>
      <ul style="font-size: 0.8em;">
        <li class="fragment">Contexte projet complet envoye a <strong>Claude</strong> (commandes, shipments, anomalies, consolidation, installation)</li>
        <li class="fragment">Score de risque + recommandations operationnelles</li>
        <li class="fragment">Facteurs analyses : retards livraison, stocks manquants, pression calendrier installation</li>
        <li class="fragment"><strong class="warn">Fallback heuristique</strong> si API indisponible &mdash; analyse basee sur les regles existantes</li>
      </ul>
    </div>
  </div>
  <div class="fragment" style="margin-top: 20px;">
    <pre style="font-size: 0.55em; text-align: left;">
// Exemple de reponse
{
  "risk_score": 78,
  "level": "high",
  "factors": [
    "2 lignes en shortage a J-3 de la livraison promise",
    "Consolidation incomplete (1/3 commandes arrivees)",
    "Installation planifiee sans livraison complete"
  ],
  "recommendations": [
    "Contacter le fournisseur pour expedition prioritaire",
    "Reporter l'installation de 5 jours"
  ]
}</pre>
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 13 — US1 : Operateur detecte un retard -->
<!-- ============================================================ -->
<section>
  <h2>User Story 1</h2>
  <h3>L'operateur detecte un retard critique</h3>
  <p style="font-size: 0.7em; color: #94a3b8; margin-bottom: 10px;">Scenario : Famille Leclerc &mdash; cuisine 22 000 EUR, status <span class="pill pill-red">on_hold</span></p>
  <div class="us-flow">
    <div class="us-step" style="border-left: 3px solid var(--crit);">SKU backordered<br/><small class="crit">ANO-01</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--crit);">Exception transport<br/><small class="crit">ANO-18</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--crit);">Consolidation retard<br/><small class="crit">ANO-17</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--accent);">3 alertes email<br/><small>coordinateur</small></div>
  </div>
  <div class="fragment us-flow" style="margin-top: 10px;">
    <div class="us-step" style="border-left: 3px solid var(--warn);">Non acquittees<br/><small class="warn">+ 4 heures</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--warn);">Escalade auto<br/><small>ticket CRM cree</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--ok);">Acquittement<br/><small>en masse (x3)</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--ok);">Trace dans le<br/><small>journal activite</small></div>
  </div>
  <div class="fragment" style="margin-top: 20px; font-size: 0.65em; color: #94a3b8;">
    <strong class="accent">Resultat :</strong> 3 anomalies detectees en temps reel, escaladees automatiquement, acquittees en un clic, tracees dans l'audit trail.
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 14 — US2 : Livraison partielle -->
<!-- ============================================================ -->
<section>
  <h2>User Story 2</h2>
  <h3>Gestion d'une livraison partielle</h3>
  <p style="font-size: 0.7em; color: #94a3b8; margin-bottom: 10px;">Scenario : Famille Renaud &mdash; salle de bain, baignoire non livree</p>
  <div class="us-flow">
    <div class="us-step" style="border-left: 3px solid var(--crit);">Livreur bloque<br/><small>5eme etage, pas<br/>de monte-charge</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--crit);">Livraison partielle<br/><small class="crit">ANO-04</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--crit);">Install. planifiee<br/>sans livraison<br/><small class="crit">ANO-22</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--accent);">Alerte operateur<br/><small>+ escalade 4h</small></div>
  </div>
  <div class="fragment us-flow" style="margin-top: 10px;">
    <div class="us-step" style="border-left: 3px solid var(--ok);">Approbation<br/>livraison partielle<br/><small>accord client</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--ok);">Re-planification<br/>2eme tentative<br/><small>J+2</small></div>
    <div class="arrow">&rarr;</div>
    <div class="us-step" style="border-left: 3px solid var(--ok);">Installation<br/>maintenue J+3<br/><small>technicien confirme</small></div>
  </div>
  <div class="fragment" style="margin-top: 20px; font-size: 0.65em; color: #94a3b8;">
    <strong class="accent">Resultat :</strong> PLO coordonne la re-livraison et le maintien de l'installation grace a la visibilite temps reel sur les prerequis.
  </div>
</section>

<!-- ============================================================ -->
<!-- SLIDE 15 — US3 : Portail client -->
<!-- ============================================================ -->
<section>
  <h2>User Story 3</h2>
  <h3>Le client suit son projet</h3>
  <p style="font-size: 0.7em; color: #94a3b8; margin-bottom: 20px;">Portail public &mdash; <code>/api/public/tracking/:token</code></p>
  <div class="timeline">
    <div class="step">
      <div class="line" style="background: var(--ok);"></div>
      <div class="dot" style="background: var(--ok);"></div>
      <div>Commande<br/>confirmee</div>
    </div>
    <div class="step">
      <div class="line" style="background: var(--ok);"></div>
      <div class="dot" style="background: var(--ok);"></div>
      <div>Preparation<br/>en cours</div>
    </div>
    <div class="step">
      <div class="line" style="background: var(--accent);"></div>
      <div class="dot" style="background: var(--accent);"></div>
      <div><strong>Consolidation</strong><br/>en station</div>
    </div>
    <div class="step">
      <div class="line" style="background: #475569;"></div>
      <div class="dot" style="background: #475569;"></div>
      <div>Livraison<br/>planifiee</div>
    </div>
    <div class="step">
      <div class="line" style="background: #475569;"></div>
      <div class="dot" style="background: #475569;"></div>
      <div>Livre</div>
    </div>
    <div class="step">
      <div class="dot" style="background: #475569;"></div>
      <div>Installation<br/>terminee</div>
    </div>
  </div>
  <div class="fragment two-col" style="margin-top: 30px; font-size: 0.85em;">
    <div class="box" style="border-left: 4px solid var(--ok);">
      <h3 class="ok">Ce que le client voit</h3>
      <ul style="font-size: 0.85em;">
        <li>Jalons avec statut et dates</li>
        <li>Transporteur + reference suivi</li>
        <li>Creneau de livraison estime</li>
        <li>Statut installation</li>
      </ul>
    </div>
    <div class="box" style="border-left: 4px solid var(--crit);">
      <h3 class="crit">Ce qui reste masque</h3>
      <ul style="font-size: 0.85em;">
        <li>Noms de regles / severites</li>
        <li>IDs internes / references ERP</li>
        <li>Details anomalies</li>
        <li>Communications operateur</li>
      </ul>
    </div>
  </div>
</section>

</div><!-- .slides -->
</div><!-- .reveal -->

<script src="https://unpkg.com/reveal.js@5.1.0/dist/reveal.js"></script>
<script>
  Reveal.initialize({
    hash: true,
    slideNumber: "c/t",
    transition: "slide",
    backgroundTransition: "fade",
    center: true,
    width: 1280,
    height: 720,
  });
</script>
</body>
</html>
